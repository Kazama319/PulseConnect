(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{161:function(e,t,r){},209:function(e){e.exports=JSON.parse('{"v":"5.5.2","fr":60,"ip":0,"op":104,"w":84,"h":40,"nm":"Typing-Indicator","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Oval 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.643],"y":[1]},"o":{"x":[1],"y":[0]},"t":18,"s":[35],"e":[100]},{"i":{"x":[0.099],"y":[1]},"o":{"x":[0.129],"y":[0]},"t":33,"s":[100],"e":[35]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":65,"s":[35],"e":[35]},{"t":71}],"ix":11,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[61,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"t":18,"s":[100,100,100],"e":[140,140,100]},{"i":{"x":[0.032,0.032,0.667],"y":[1,1,1]},"o":{"x":[0.217,0.217,0.333],"y":[0,0,0]},"t":33,"s":[140,140,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":65,"s":[100,100,100],"e":[100,100,100]},{"t":71}],"ix":6,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[12,12],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.847000002861,0.847000002861,0.847000002861,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Oval 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"t":9,"s":[35],"e":[98]},{"i":{"x":[0.023],"y":[1]},"o":{"x":[0.179],"y":[0]},"t":24,"s":[98],"e":[35]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":56,"s":[35],"e":[35]},{"t":62}],"ix":11,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[41,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.654,0.654,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"t":9,"s":[100,100,100],"e":[140,140,100]},{"i":{"x":[0.11,0.11,0.667],"y":[1,1,1]},"o":{"x":[0.205,0.205,0.333],"y":[0,0,0]},"t":24,"s":[140,140,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":56,"s":[100,100,100],"e":[100,100,100]},{"t":62}],"ix":6,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[12,12],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.847000002861,0.847000002861,0.847000002861,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Oval 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"t":0,"s":[35],"e":[100]},{"i":{"x":[0.067],"y":[1]},"o":{"x":[0.125],"y":[0]},"t":15,"s":[100],"e":[35]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":47,"s":[35],"e":[35]},{"t":53}],"ix":11,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[21,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.673,0.673,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"t":0,"s":[100,100,100],"e":[140,140,100]},{"i":{"x":[0.049,0.049,0.667],"y":[1,1,1]},"o":{"x":[0.198,0.198,0.333],"y":[0,0,0]},"t":15,"s":[140,140,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":47,"s":[100,100,100],"e":[100,100,100]},{"t":53}],"ix":6,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[12,12],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.847000002861,0.847000002861,0.847000002861,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"BG","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[42,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-42,-20],[42,-20],[42,20],[-42,20]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"rd","nm":"Round Corners 1","r":{"a":0,"k":20,"ix":1},"ix":2,"mn":"ADBE Vector Filter - RC","hd":false},{"ty":"fl","c":{"a":0,"k":[0.96078401804,0.96078401804,0.96078401804,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"BG","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0}],"markers":[]}')},235:function(e,t,r){},236:function(e,t,r){},341:function(e,t,r){"use strict";r.r(t);var a,n,s=r(0),i=r(50),c=r.n(i),o=(r(235),r(236),r(358)),l=r(360),d=r(390),u=r(362),b=r(217),j=r(365),h=r(201),p=r(1),x=function(){var e=Object(h.useHistory)();return Object(p.jsx)(o.a,{bg:"gray.900",color:"white",minH:"full",p:4,children:Object(p.jsxs)(l.a,{direction:"row",align:"center",justify:"center",w:"full",spacing:4,children:[Object(p.jsxs)(d.c,{spacing:8,textAlign:"center",flex:"1",maxW:"full",children:[Object(p.jsx)(u.a,{fontSize:"5xl",fontWeight:"bold",color:"teal.400",children:"Welcome to Pulse Connect"}),Object(p.jsx)(u.a,{fontSize:"xl",color:"gray.300",children:"Connect with your friends and family seamlessly. Experience the best chat application with real-time messaging, groups, and more."}),Object(p.jsxs)(d.a,{spacing:4,children:[Object(p.jsx)(b.a,{colorScheme:"teal",variant:"solid",size:"lg",onClick:function(){e.push("/login")},children:"Login"}),Object(p.jsx)(b.a,{colorScheme:"teal",variant:"outline",size:"lg",onClick:function(){e.push("/signup")},children:"Sign Up"})]})]}),Object(p.jsxs)(o.a,{position:"relative",flex:"1",maxW:"700px",w:"full",h:"full",ml:{base:0,md:4},children:[Object(p.jsx)(j.a,{src:"https://i.imgur.com/U3vTGjX.png",alt:"Chat App",borderRadius:"md",boxShadow:"lg",objectFit:"cover",w:"85%",h:"85%"}),Object(p.jsxs)(d.c,{position:"absolute",top:"20%",left:"5%",spacing:4,align:"flex-start",bg:"gray.800",p:4,borderRadius:"md",boxShadow:"lg",maxW:"300px",children:[Object(p.jsx)(d.a,{align:"flex-start",children:Object(p.jsx)(o.a,{bg:"teal.500",p:3,borderRadius:"md",color:"white",children:"Hey! How are you?"})}),Object(p.jsx)(d.a,{align:"flex-start",children:Object(p.jsx)(o.a,{bg:"gray.700",p:3,borderRadius:"md",color:"white",children:"I'm good, how about you?"})}),Object(p.jsx)(d.a,{align:"flex-start",children:Object(p.jsx)(o.a,{bg:"teal.500",p:3,borderRadius:"md",color:"white",children:"Doing great! Let's catch up soon."})})]})]})]})})},O=r(17),f=r(4),m=(r(161),r(12)),g=r(9),y=r.n(g),v=r(20),k=r(99),C=r(392),w=r(384),S=r(367),_=r(364),A=function(e,t,r,a){return r<e.length-1&&e[r+1].sender._id===t.sender._id&&e[r].sender._id!==a?33:r<e.length-1&&e[r+1].sender._id!==t.sender._id&&e[r].sender._id!==a||r===e.length-1&&e[r].sender._id!==a?0:"auto"},F=function(e,t,r,a){return r<e.length-1&&(e[r+1].sender._id!==t.sender._id||void 0===e[r+1].sender._id)&&e[r].sender._id!==a},E=function(e,t,r){return t===e.length-1&&e[e.length-1].sender._id!==r&&e[e.length-1].sender._id},z=function(e,t,r){return r>0&&e[r-1].sender._id===t.sender._id},I=function(e,t){var r;return(null===(r=t[0])||void 0===r?void 0:r._id)===(null===e||void 0===e?void 0:e._id)?t[1].name:t[0].name},R=function(e,t){var r;return(null===(r=t[0])||void 0===r?void 0:r._id)===(null===e||void 0===e?void 0:e._id)?t[1].pic:t[0].pic},B=r(21),N=r.n(B),D=r(374),G=r(368),P=r(366),W=r(49),L=function(e){var t=e.user,r=e.children,a=Object(P.a)(),n=a.isOpen,s=a.onOpen,i=a.onClose;return Object(p.jsxs)(p.Fragment,{children:[r?Object(p.jsx)("span",{onClick:s,children:r}):Object(p.jsx)(S.a,{display:{base:"flex"},icon:Object(p.jsx)(G.a,{}),onClick:s,backgroundColor:"black",color:"white",_hover:{backgroundColor:"gray.700"}}),Object(p.jsxs)(W.a,{size:"lg",onClose:i,isOpen:n,isCentered:!0,children:[Object(p.jsx)(W.h,{}),Object(p.jsxs)(W.d,{h:"450px",backgroundColor:"gray.900",color:"white",borderRadius:"15px",boxShadow:"lg",children:[Object(p.jsx)(W.g,{fontSize:"40px",fontFamily:"Work sans",display:"flex",justifyContent:"center",borderBottom:"1px solid",borderColor:"gray.700",children:t.name}),Object(p.jsx)(W.c,{color:"white"}),Object(p.jsxs)(W.b,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:"20px",children:[Object(p.jsx)(o.a,{borderRadius:"full",overflow:"hidden",boxSize:"150px",mb:4,boxShadow:"0 0 10px rgba(255, 255, 255, 0.5)",children:Object(p.jsx)(j.a,{borderRadius:"full",boxSize:"150px",src:t.pic,alt:t.name})}),Object(p.jsxs)(u.a,{fontSize:{base:"24px",md:"26px"},fontFamily:"Work sans",textAlign:"center",children:["Email: ",t.email]})]}),Object(p.jsx)(W.f,{borderTop:"1px solid",borderColor:"black",children:Object(p.jsx)(b.a,{onClick:i,backgroundColor:"black",color:"white",_hover:{backgroundColor:"gray.600"},children:"Close"})})]})]})]})},U=r(371),M=r(388),V=r(207),T=Object(s.createContext)(),$=function(){return Object(s.useContext)(T)},H=function(e){var t=e.children,r=Object(s.useState)(),a=Object(f.a)(r,2),n=a[0],i=a[1],c=Object(s.useState)(),o=Object(f.a)(c,2),l=o[0],d=o[1],u=Object(s.useState)([]),b=Object(f.a)(u,2),j=b[0],h=b[1],x=Object(s.useState)(),m=Object(f.a)(x,2),g=m[0],y=m[1],v=Object(O.useHistory)();return Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userInfo"));d(e),e||v.push("/")}),[v]),Object(p.jsx)(T.Provider,{value:{selectedChat:n,setSelectedChat:i,user:l,setUser:d,notification:j,setNotification:h,chats:g,setChats:y},children:t})},J=function(e){var t=e.messages,r=$().user;return Object(p.jsx)(V.a,{children:t&&t.map((function(e,a){return Object(p.jsxs)("div",{style:{display:"flex"},children:[(F(t,e,a,r._id)||E(t,a,r._id))&&Object(p.jsx)(M.a,{label:e.sender.name,placement:"bottom-start",hasArrow:!0,children:Object(p.jsx)(U.a,{mt:"7px",mr:1,size:"sm",cursor:"pointer",name:e.sender.name,src:e.sender.pic})}),Object(p.jsx)("span",{style:{backgroundColor:"".concat(e.sender._id===r._id?"#6B46C1":"#3182CE"),color:"white",marginLeft:A(t,e,a,r._id),marginTop:z(t,e,a,r._id)?3:10,borderRadius:"20px",padding:"5px 15px",maxWidth:"75%",wordBreak:"break-word"},children:e.content})]},e._id)}))})},Y=r(208),q=r.n(Y),K=r(209),X=r(210),Q=r.n(X),Z=r(373),ee=r(372),te=function(e){var t=e.user,r=e.handleFunction,a=e.admin;return Object(p.jsxs)(ee.a,{px:2,py:1,borderRadius:"lg",m:1,mb:2,variant:"solid",fontSize:12,colorScheme:"purple",cursor:"pointer",onClick:r,children:[t.name,a===t._id&&Object(p.jsx)("span",{children:" (Admin)"}),Object(p.jsx)(Z.a,{pl:1})]})},re=function(e){var t=e.user,r=e.handleFunction;return Object(p.jsxs)(o.a,{onClick:r,cursor:"pointer",bg:"gray.700",_hover:{background:"purple.700",color:"white"},w:"100%",d:"flex",alignItems:"center",color:"white",px:3,py:2,mb:2,borderRadius:"lg",children:[Object(p.jsx)(U.a,{mr:2,size:"sm",cursor:"pointer",name:t.name,src:t.pic}),Object(p.jsxs)(o.a,{children:[Object(p.jsx)(u.a,{children:t.name}),Object(p.jsxs)(u.a,{fontSize:"xs",color:"blue.400",children:[Object(p.jsx)("b",{children:"Email : "}),t.email]})]})]})},ae=function(e){var t=e.fetchMessages,r=e.fetchAgain,a=e.setFetchAgain,n=Object(P.a)(),i=n.isOpen,c=n.onOpen,l=n.onClose,d=Object(s.useState)(),u=Object(f.a)(d,2),j=u[0],h=u[1],x=Object(s.useState)(""),O=Object(f.a)(x,2),m=O[0],g=O[1],A=Object(s.useState)([]),F=Object(f.a)(A,2),E=F[0],z=F[1],I=Object(s.useState)(!1),R=Object(f.a)(I,2),B=R[0],D=R[1],L=Object(s.useState)(!1),U=Object(f.a)(L,2),M=U[0],V=U[1],T=Object(w.a)(),H=$(),J=H.selectedChat,Y=H.setSelectedChat,q=H.user,K=function(){var e=Object(v.a)(y.a.mark((function e(t){var r,a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(t),t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,D(!0),r={headers:{Authorization:"Bearer ".concat(q.token)}},e.next=8,N.a.get("/api/user?search=".concat(m),r);case 8:a=e.sent,n=a.data,console.log(n),D(!1),z(n),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),T({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"}),D(!1);case 19:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(v.a)(y.a.mark((function e(){var t,n,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,V(!0),t={headers:{Authorization:"Bearer ".concat(q.token)}},e.next=7,N.a.put("/api/chat/rename",{chatId:J._id,chatName:j},t);case 7:n=e.sent,s=n.data,console.log(s._id),Y(s),a(!r),V(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),T({title:"Error Occured!",description:e.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),V(!1);case 19:h("");case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(v.a)(y.a.mark((function e(t){var n,s,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J.users.find((function(e){return e._id===t._id}))){e.next=3;break}return T({title:"User Already in group!",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),e.abrupt("return");case 3:if(J.groupAdmin._id===q._id){e.next=6;break}return T({title:"Only admins can add someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),e.abrupt("return");case 6:return e.prev=6,D(!0),n={headers:{Authorization:"Bearer ".concat(q.token)}},e.next=11,N.a.put("/api/chat/groupadd",{chatId:J._id,userId:t._id},n);case 11:s=e.sent,i=s.data,Y(i),a(!r),D(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),T({title:"Error Occured!",description:e.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),D(!1);case 22:h("");case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(v.a)(y.a.mark((function e(n){var s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J.groupAdmin._id===q._id||n._id===q._id){e.next=3;break}return T({title:"Only admins can remove someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),e.abrupt("return");case 3:return e.prev=3,D(!0),s={headers:{Authorization:"Bearer ".concat(q.token)}},e.next=8,N.a.put("/api/chat/groupremove",{chatId:J._id,userId:n._id},s);case 8:i=e.sent,c=i.data,n._id===q._id?Y():Y(c),a(!r),t(),D(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),T({title:"Error Occured!",description:e.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),D(!1);case 20:h("");case 21:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(S.a,{d:{base:"flex"},icon:Object(p.jsx)(G.a,{}),onClick:c}),Object(p.jsxs)(W.a,{onClose:l,isOpen:i,isCentered:!0,children:[Object(p.jsx)(W.h,{}),Object(p.jsxs)(W.d,{children:[Object(p.jsx)(W.g,{fontSize:"35px",fontFamily:"Work sans",d:"flex",justifyContent:"center",children:J.chatName}),Object(p.jsx)(W.c,{}),Object(p.jsxs)(W.b,{d:"flex",flexDir:"column",alignItems:"center",children:[Object(p.jsx)(o.a,{w:"100%",d:"flex",flexWrap:"wrap",pb:3,children:J.users.map((function(e){return Object(p.jsx)(te,{user:e,admin:J.groupAdmin,handleFunction:function(){return Z(e)}},e._id)}))}),Object(p.jsxs)(k.a,{d:"flex",children:[Object(p.jsx)(C.a,{placeholder:"Chat Name",mb:3,value:j,onChange:function(e){return h(e.target.value)}}),Object(p.jsx)(b.a,{variant:"solid",colorScheme:"teal",ml:1,isLoading:M,onClick:X,children:"Update"})]}),Object(p.jsx)(k.a,{children:Object(p.jsx)(C.a,{placeholder:"Add User to group",mb:1,onChange:function(e){return K(e.target.value)}})}),B?Object(p.jsx)(_.a,{size:"lg"}):null===E||void 0===E?void 0:E.map((function(e){return Object(p.jsx)(re,{user:e,handleFunction:function(){return Q(e)}},e._id)}))]}),Object(p.jsx)(W.f,{children:Object(p.jsx)(b.a,{onClick:function(){return Z(q)},colorScheme:"red",children:"Leave Group"})})]})]})]})},ne=function(e){var t=e.fetchAgain,r=e.setFetchAgain,i=Object(s.useState)([]),c=Object(f.a)(i,2),l=c[0],d=c[1],b=Object(s.useState)(!1),j=Object(f.a)(b,2),h=j[0],x=j[1],O=Object(s.useState)(""),g=Object(f.a)(O,2),A=g[0],F=g[1],E=Object(s.useState)(!1),z=Object(f.a)(E,2),R=z[0],B=z[1],G=Object(s.useState)(!1),P=Object(f.a)(G,2),W=P[0],U=P[1],M=Object(s.useState)(!1),V=Object(f.a)(M,2),T=V[0],H=V[1],Y=Object(w.a)(),X={loop:!0,autoplay:!0,animationData:K,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},Z=$(),ee=Z.selectedChat,te=Z.setSelectedChat,re=Z.user,ne=Z.notification,se=Z.setNotification,ie=function(){var e=Object(v.a)(y.a.mark((function e(){var t,r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t={headers:{Authorization:"Bearer ".concat(re.token)}},x(!0),e.next=7,N.a.get("/api/message/".concat(ee._id),t);case 7:r=e.sent,n=r.data,d(n),x(!1),a.emit("join chat",ee._id),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),Y({title:"Error Occured!",description:"Failed to Load the Messages",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(v.a)(y.a.mark((function e(t){var r,n,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||!A){e.next=16;break}return a.emit("stop typing",ee._id),e.prev=2,r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(re.token)}},F(""),e.next=7,N.a.post("/api/message",{content:A,chatId:ee},r);case 7:n=e.sent,s=n.data,a.emit("new message",s),d([].concat(Object(m.a)(l),[s])),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),Y({title:"Error Occured!",description:"Failed to send the Message",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){(a=Q()("http://localhost:5000")).emit("setup",re),a.on("connected",(function(){return B(!0)})),a.on("typing",(function(){return H(!0)})),a.on("stop typing",(function(){return H(!1)}))}),[]),Object(s.useEffect)((function(){ie(),n=ee}),[ee]),Object(s.useEffect)((function(){a.on("message received",(function(e){n&&n._id===e.chat._id?d([].concat(Object(m.a)(l),[e])):ne.includes(e)||(se([e].concat(Object(m.a)(ne))),r(!t))}))}));var oe,le;return Object(p.jsx)(p.Fragment,{children:ee?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(u.a,{fontSize:{base:"28px",md:"30px"},pb:3,px:2,w:"100%",fontFamily:"Work sans",display:"flex",justifyContent:{base:"space-between"},alignItems:"center",color:"white",children:[Object(p.jsx)(S.a,{display:{base:"flex",md:"none"},icon:Object(p.jsx)(D.a,{}),onClick:function(){return te("")},color:"white",bg:"transparent",_hover:{bg:"gray.700"}}),l&&(ee.isGroupChat?Object(p.jsxs)(p.Fragment,{children:[ee.chatName.toUpperCase(),Object(p.jsx)(ae,{fetchMessages:ie,fetchAgain:t,setFetchAgain:r})]}):Object(p.jsxs)(p.Fragment,{children:[I(re,ee.users),Object(p.jsx)(L,{user:(oe=re,le=ee.users,le[0]._id===oe._id?le[1]:le[0])})]}))]}),Object(p.jsxs)(o.a,{display:"flex",flexDirection:"column",justifyContent:"flex-end",p:3,bg:"black",w:"100%",h:"100%",borderRadius:"lg",overflowY:"hidden",children:[h?Object(p.jsx)(_.a,{size:"xl",w:20,h:20,alignSelf:"center",margin:"auto",color:"white"}):Object(p.jsx)("div",{className:"messages",children:Object(p.jsx)(J,{messages:l})}),Object(p.jsxs)(k.a,{onKeyDown:ce,id:"first-name",isRequired:!0,mt:3,children:[T?Object(p.jsx)("div",{children:Object(p.jsx)(q.a,{options:X,width:70,style:{marginBottom:15,marginLeft:0}})}):Object(p.jsx)(p.Fragment,{}),Object(p.jsx)(C.a,{variant:"filled",bg:"gray.700",placeholder:"Enter a message..",value:A,onChange:function(e){if(F(e.target.value),R){W||(U(!0),a.emit("typing",ee._id));var t=(new Date).getTime();setTimeout((function(){(new Date).getTime()-t>=3e3&&W&&(a.emit("stop typing",ee._id),U(!1))}),3e3)}},color:"white"})]})]})]}):Object(p.jsx)(o.a,{display:"flex",alignItems:"center",justifyContent:"center",h:"100%",children:Object(p.jsx)(u.a,{fontSize:"3xl",pb:3,fontFamily:"Work sans",color:"white",children:"Click on a user to start chatting"})})})},se=function(e){var t=e.fetchAgain,r=e.setFetchAgain,a=$().selectedChat;return Object(p.jsx)(o.a,{display:{base:a?"flex":"none",md:"flex"},alignItems:"center",flexDirection:"column",p:3,bg:"gray.800",w:{base:"100%",md:"68%"},borderRadius:"lg",borderWidth:"1px",borderColor:"gray.700",children:Object(p.jsx)(ne,{fetchAgain:t,setFetchAgain:r})})},ie=r(214),ce=r(375),oe=r(387),le=function(){return Object(p.jsxs)(d.b,{children:[Object(p.jsx)(oe.a,{height:"45px"}),Object(p.jsx)(oe.a,{height:"45px"}),Object(p.jsx)(oe.a,{height:"45px"}),Object(p.jsx)(oe.a,{height:"45px"}),Object(p.jsx)(oe.a,{height:"45px"}),Object(p.jsx)(oe.a,{height:"45px"}),Object(p.jsx)(oe.a,{height:"45px"}),Object(p.jsx)(oe.a,{height:"45px"}),Object(p.jsx)(oe.a,{height:"45px"}),Object(p.jsx)(oe.a,{height:"45px"}),Object(p.jsx)(oe.a,{height:"45px"}),Object(p.jsx)(oe.a,{height:"45px"})]})},de=function(e){var t=e.children,r=Object(P.a)(),a=r.isOpen,n=r.onOpen,i=r.onClose,c=Object(s.useState)(),l=Object(f.a)(c,2),d=l[0],u=l[1],j=Object(s.useState)([]),h=Object(f.a)(j,2),x=h[0],O=h[1],g=Object(s.useState)(""),S=Object(f.a)(g,2),_=S[0],A=S[1],F=Object(s.useState)([]),E=Object(f.a)(F,2),z=E[0],I=E[1],R=Object(s.useState)(!1),B=Object(f.a)(R,2),D=B[0],G=B[1],L=Object(w.a)(),U=$(),M=U.user,V=U.chats,T=U.setChats,H=function(){var e=Object(v.a)(y.a.mark((function e(t){var r,a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(t),t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,G(!0),r={headers:{Authorization:"Bearer ".concat(M.token)}},e.next=8,N.a.get("/api/user?search=".concat(_),r);case 8:a=e.sent,n=a.data,console.log(n),G(!1),I(n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),L({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(v.a)(y.a.mark((function e(){var t,r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&x){e.next=3;break}return L({title:"Please fill all the feilds",status:"warning",duration:5e3,isClosable:!0,position:"top"}),e.abrupt("return");case 3:return e.prev=3,t={headers:{Authorization:"Bearer ".concat(M.token)}},e.next=7,N.a.post("/api/chat/group",{name:d,users:JSON.stringify(x.map((function(e){return e._id})))},t);case 7:r=e.sent,a=r.data,T([a].concat(Object(m.a)(V))),i(),L({title:"New Group Chat Created!",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),L({title:"Failed to Create the Chat!",description:e.t0.response.data,status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{onClick:n,children:t}),Object(p.jsxs)(W.a,{onClose:i,isOpen:a,isCentered:!0,children:[Object(p.jsx)(W.h,{}),Object(p.jsxs)(W.d,{children:[Object(p.jsx)(W.g,{fontSize:"35px",fontFamily:"Work sans",d:"flex",justifyContent:"center",bg:"teal.500",textColor:"white",children:"Create Group Chat"}),Object(p.jsx)(W.c,{}),Object(p.jsxs)(W.b,{d:"flex",flexDir:"column",alignItems:"center",bg:"gray.700",children:[Object(p.jsx)(k.a,{children:Object(p.jsx)(C.a,{bg:"black",textColor:"white",placeholder:"Chat Name",mb:3,onChange:function(e){return u(e.target.value)}})}),Object(p.jsx)(k.a,{children:Object(p.jsx)(C.a,{bg:"black",placeholder:"Add Users eg: John, Piyush, Jane",textColor:"white",mb:1,onChange:function(e){return H(e.target.value)}})}),Object(p.jsx)(o.a,{w:"100%",d:"flex",flexWrap:"wrap",color:"black",children:x.map((function(e){return Object(p.jsx)(te,{bg:"black",user:e,handleFunction:function(){return t=e,void O(x.filter((function(e){return e._id!==t._id})));var t}},e._id)}))}),D?Object(p.jsx)("div",{children:"Loading..."}):null===z||void 0===z?void 0:z.slice(0,4).map((function(e){return Object(p.jsx)(re,{bg:"black",user:e,handleFunction:function(){return t=e,void(x.includes(t)?L({title:"User already added",status:"warning",duration:5e3,isClosable:!0,position:"top"}):O([].concat(Object(m.a)(x),[t])));var t}},e._id)}))]}),Object(p.jsx)(W.f,{bg:"gray.700",children:Object(p.jsx)(b.a,{onClick:J,colorScheme:"blue",children:"Create Chat"})})]})]})]})},ue=function(e){var t=e.fetchAgain,r=Object(s.useState)(),a=Object(f.a)(r,2),n=a[0],i=a[1],c=$(),l=c.selectedChat,j=c.setSelectedChat,h=c.user,x=c.chats,O=c.setChats,m=Object(w.a)(),g=function(){var e=Object(v.a)(y.a.mark((function e(){var t,r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(h.token)}},e.next=4,N.a.get("/api/chat",t);case 4:r=e.sent,a=r.data,O(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),m({title:"Error Occurred!",description:"Failed to Load the chats",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){i(JSON.parse(localStorage.getItem("userInfo"))),g()}),[t]),Object(p.jsxs)(o.a,{display:{base:l?"none":"flex",md:"flex"},flexDirection:"column",alignItems:"center",p:3,bg:"gray.800",w:{base:"100%",md:"31%"},borderRadius:"lg",borderWidth:"1px",borderColor:"gray.700",children:[Object(p.jsxs)(o.a,{pb:3,px:3,fontSize:{base:"28px",md:"30px"},fontFamily:"Work sans",display:"flex",w:"100%",justifyContent:"space-between",alignItems:"center",color:"white",children:["My Chats",Object(p.jsx)(de,{children:Object(p.jsx)(b.a,{display:"flex",fontSize:{base:"17px",md:"10px",lg:"17px"},rightIcon:Object(p.jsx)(ce.a,{}),bg:"teal.500",color:"white",_hover:{bg:"teal.400"},children:"New Group Chat"})})]}),Object(p.jsx)(o.a,{display:"flex",flexDirection:"column",p:3,bg:"gray.900",w:"100%",h:"100%",borderRadius:"lg",overflowY:"hidden",children:x?Object(p.jsx)(d.b,{overflowY:"scroll",children:x.map((function(e){return Object(p.jsx)(o.a,{onClick:function(){return j(e)},cursor:"pointer",bg:l&&l._id===e._id?"teal.700":"gray.700",color:l&&l._id===e._id?"white":"gray.200",px:3,py:2,borderRadius:"lg",_hover:{bg:l&&l._id===e._id?"teal.700":"gray.600"},children:Object(p.jsxs)(d.a,{spacing:3,align:"center",children:[Object(p.jsx)(U.a,Object(ie.a)({size:"md",name:e.isGroupChat?e.chatName:R(n,e.users),src:!e.isGroupChat&&R(n,e.users)},console.log(I(n,e.users)))),Object(p.jsxs)(o.a,{children:[Object(p.jsx)(u.a,{fontWeight:"bold",children:e.isGroupChat?e.chatName:I(n,e.users)}),e.latestMessage&&Object(p.jsxs)(u.a,{fontSize:"xs",color:"gray.400",children:[Object(p.jsxs)("b",{children:[e.latestMessage.sender.name," : "]}),e.latestMessage.content.length>50?e.latestMessage.content.substring(0,51)+"...":e.latestMessage.content]})]})]})},e._id)}))}):Object(p.jsx)(le,{})})]})},be=r(385),je=r(393),he=r(376),pe=r(377),xe=r(123),Oe=r.n(xe);var fe=function(){var e=Object(s.useState)(""),t=Object(f.a)(e,2),r=t[0],a=t[1],n=Object(s.useState)([]),i=Object(f.a)(n,2),c=i[0],l=i[1],d=Object(s.useState)(!1),j=Object(f.a)(d,2),h=j[0],x=j[1],g=Object(s.useState)(!1),k=Object(f.a)(g,2),S=k[0],A=k[1],F=$(),E=F.setSelectedChat,z=F.user,R=F.notification,B=F.setNotification,D=F.chats,G=F.setChats,V=F.setUser,T=Object(w.a)(),H=Object(P.a)(),J=H.isOpen,Y=H.onOpen,q=H.onClose,K=Object(O.useHistory)(),X=function(){var e=Object(v.a)(y.a.mark((function e(){var t,a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return T({title:"Please Enter something in search",status:"warning",duration:5e3,isClosable:!0,position:"top-left"}),e.abrupt("return");case 3:return e.prev=3,x(!0),t={headers:{Authorization:"Bearer ".concat(z.token)}},e.next=8,N.a.get("/api/user?search=".concat(r),t);case 8:a=e.sent,n=a.data,x(!1),l(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),T({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(v.a)(y.a.mark((function e(t){var r,a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(!0),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(z.token)}},e.next=5,N.a.post("/api/chat",{userId:t},r);case 5:a=e.sent,n=a.data,D.find((function(e){return e._id===n._id}))||G([n].concat(Object(m.a)(D))),E(n),A(!1),q(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),T({title:"Error fetching the chat",description:e.t0.message,status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(o.a,{d:"flex",justifyContent:"space-between",alignItems:"center",bg:"gray.900",w:"100%",p:"5px 10px",borderWidth:"0px",children:[Object(p.jsx)(M.a,{label:"Search Users to chat",hasArrow:!0,placement:"bottom-end",children:Object(p.jsxs)(b.a,{onClick:Y,colorScheme:"blue",variant:"solid",m:1,p:2,children:[Object(p.jsx)("i",{className:"fas fa-search"}),Object(p.jsx)(u.a,{d:{base:"none",md:"flex"},p:1,color:"white",children:"Search User"})]})}),Object(p.jsx)(u.a,{fontSize:"2xl",fontFamily:"Work sans",color:"white",fontWeight:"bold",children:"Pulse Connect"}),Object(p.jsxs)("div",{className:"bg-gray-900",children:[Object(p.jsxs)(be.a,{children:[Object(p.jsxs)(be.b,{p:1,children:[Object(p.jsx)(Oe.a,{count:R.length,effect:xe.Effect.SCALE}),Object(p.jsx)(he.a,{fontSize:"2xl",m:1,color:"white"})]}),Object(p.jsxs)(be.e,{pl:2,bg:"gray.900",borderColor:"gray.800",children:[!R.length&&"No New Messages",R.map((function(e){return Object(p.jsx)(be.d,{onClick:function(){E(e.chat),B(R.filter((function(t){return t!==e})))},bg:"gray.900",_hover:{bg:"gray.800"},color:"white",children:e.chat.isGroupChat?"New Message in ".concat(e.chat.chatName):"New Message from ".concat(I(z,e.chat.users))},e._id)}))]})]}),Object(p.jsxs)(be.a,{children:[Object(p.jsx)(be.b,{as:b.a,bg:"gray.500",rightIcon:Object(p.jsx)(pe.a,{}),_hover:{bg:"purple.500"},children:Object(p.jsx)(U.a,{size:"sm",cursor:"pointer",name:z.name,src:z.pic,_hover:{bg:"purple.500"}})}),Object(p.jsxs)(be.e,{bg:"gray.900",borderColor:"gray.800",children:[Object(p.jsx)(L,{user:z,children:Object(p.jsx)(be.d,{color:"white",_hover:{color:"white",bg:"purple.500"},children:"My Profile"})}),Object(p.jsx)(be.c,{}),Object(p.jsx)(be.d,{onClick:function(){localStorage.removeItem("userInfo"),localStorage.clear(),V(null),K.push("/")},color:"white",_hover:{color:"white",bg:"purple.500"},children:"Logout"})]})]})]})]}),Object(p.jsxs)(je.a,{placement:"left",onClose:q,isOpen:J,children:[Object(p.jsx)(W.h,{}),Object(p.jsxs)(je.b,{bg:"gray.900",children:[Object(p.jsx)(W.g,{borderBottomWidth:"1px",borderBottomColor:"gray.800",color:"white",children:"Search Users"}),Object(p.jsxs)(W.b,{bg:"gray.900",color:"white",children:[Object(p.jsxs)(o.a,{d:"flex",justifyContent:"space-between",pb:2,bg:"gray.700",borderRadius:"md",mb:3,children:[Object(p.jsx)(C.a,{placeholder:"Search by name or email",mr:0,value:r,onChange:function(e){return a(e.target.value)},bg:"gray.600",color:"white",borderColor:"gray.400",_placeholder:{color:"gray.400"}}),Object(p.jsx)(b.a,{onClick:X,bg:"blue.700",color:"white",children:"Go"})]}),h?Object(p.jsx)(le,{}):null===c||void 0===c?void 0:c.map((function(e){return Object(p.jsx)(re,{user:e,handleFunction:function(){return Q(e._id)}},e._id)})),S&&Object(p.jsx)(_.a,{ml:"auto",d:"flex"})]})]})]})]})},me=function(){var e=Object(s.useState)(!1),t=Object(f.a)(e,2),r=t[0],a=t[1],n=$().user;return Object(p.jsxs)("div",{style:{width:"100%",margin:0,padding:0},children:[n&&Object(p.jsx)(fe,{}),Object(p.jsxs)(o.a,{display:"flex",justifyContent:"flex-start",w:"100%",h:"93vh",p:0,m:0,children:[n&&Object(p.jsx)(ue,{fetchAgain:r}),n&&Object(p.jsx)(se,{fetchAgain:r,setFetchAgain:a})]})]})},ge=r(379),ye=r(380),ve=r(381),ke=r(378),Ce=function(){var e=Object(s.useState)(!1),t=Object(f.a)(e,2),r=t[0],a=t[1],n=Object(w.a)(),i=Object(s.useState)(""),c=Object(f.a)(i,2),l=c[0],u=c[1],j=Object(s.useState)(""),h=Object(f.a)(j,2),x=h[0],m=h[1],g=Object(s.useState)(!1),S=Object(f.a)(g,2),_=S[0],A=S[1],F=Object(O.useHistory)(),E=$().setUser,z=function(){var e=Object(v.a)(y.a.mark((function e(){var t,r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!0),l&&x){e.next=5;break}return n({title:"Please Fill all the Fields",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),A(!1),e.abrupt("return");case 5:return e.prev=5,t={headers:{"Content-type":"application/json"}},e.next=9,N.a.post("/api/user/login",{email:l,password:x},t);case 9:r=e.sent,a=r.data,n({title:"Login Successful",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),E(a),localStorage.setItem("userInfo",JSON.stringify(a)),A(!1),F.push("/chats"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),n({title:"Error Occurred!",description:e.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),A(!1);case 22:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(o.a,{display:"flex",justifyContent:"center",w:"full",alignItems:"center",height:"100vh",bgGradient:"linear(to-r, teal.500, blue.500)",p:4,children:Object(p.jsxs)(o.a,{bg:"gray.700",textColor:"white",p:8,borderRadius:"md",boxShadow:"lg",width:"100%",maxWidth:"md",textAlign:"center",children:[Object(p.jsx)(ke.a,{mb:6,size:"lg",color:"teal.600",children:"Login to Your Account"}),Object(p.jsxs)(d.c,{spacing:"24px",children:[Object(p.jsxs)(k.a,{id:"email",isRequired:!0,children:[Object(p.jsx)(ge.a,{children:"Email Address"}),Object(p.jsx)(C.a,{value:l,textColor:"white",type:"email",placeholder:"Enter Your Email Address",onChange:function(e){return u(e.target.value)},borderColor:"teal.500",_placeholder:{color:"gray.500"}})]}),Object(p.jsxs)(k.a,{id:"password",isRequired:!0,children:[Object(p.jsx)(ge.a,{children:"Password"}),Object(p.jsxs)(ye.a,{size:"md",children:[Object(p.jsx)(C.a,{value:x,onChange:function(e){return m(e.target.value)},type:r?"text":"password",placeholder:"Enter password",borderColor:"teal.500",_placeholder:{color:"gray.500"}}),Object(p.jsx)(ve.a,{width:"4.5rem",children:Object(p.jsx)(b.a,{h:"1.75rem",size:"sm",onClick:function(){return a(!r)},colorScheme:"teal",children:r?"Hide":"Show"})})]})]}),Object(p.jsx)(b.a,{colorScheme:"teal",width:"full",mt:4,onClick:z,isLoading:_,children:"Login"}),Object(p.jsx)(b.a,{variant:"outline",colorScheme:"teal",width:"full",onClick:function(){u("guest@example.com"),m("123456")},children:"Get Guest User Credentials"})]})]})})},we=function(){var e=Object(s.useState)(!1),t=Object(f.a)(e,2),r=t[0],a=t[1],n=Object(s.useState)(!1),i=Object(f.a)(n,2),c=i[0],l=i[1],u=Object(w.a)(),j=Object(O.useHistory)(),h=Object(s.useState)(""),x=Object(f.a)(h,2),m=x[0],g=x[1],S=Object(s.useState)(""),_=Object(f.a)(S,2),A=_[0],F=_[1],E=Object(s.useState)(""),z=Object(f.a)(E,2),I=z[0],R=z[1],B=Object(s.useState)(""),D=Object(f.a)(B,2),G=D[0],P=D[1],W=Object(s.useState)(""),L=Object(f.a)(W,2),U=L[0],M=L[1],V=Object(s.useState)(!1),T=Object(f.a)(V,2),$=T[0],H=T[1],J=function(){var e=Object(v.a)(y.a.mark((function e(){var t,r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(!0),m&&A&&G&&I){e.next=5;break}return u({title:"Please Fill all the Fields",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),H(!1),e.abrupt("return");case 5:if(G===I){e.next=9;break}return u({title:"Passwords Do Not Match",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),H(!1),e.abrupt("return");case 9:return e.prev=9,t={headers:{"Content-type":"application/json"}},e.next=13,N.a.post("/api/user",{name:m,email:A,password:G,pic:U},t);case 13:r=e.sent,a=r.data,u({title:"Registration Successful",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),localStorage.setItem("userInfo",JSON.stringify(a)),H(!1),j.push("/login"),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(9),u({title:"Error Occurred!",description:e.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),H(!1);case 25:case"end":return e.stop()}}),e,null,[[9,21]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(o.a,{display:"flex",justifyContent:"center",w:"full",alignItems:"center",height:"100vh",bgGradient:"linear(to-r, teal.500, blue.500)",p:4,children:Object(p.jsxs)(o.a,{bg:"gray.700",textColor:"white",p:8,borderRadius:"md",boxShadow:"lg",width:"100%",maxWidth:"md",textAlign:"center",children:[Object(p.jsx)(ke.a,{mb:6,size:"lg",color:"teal.600",children:"Sign Up for an Account"}),Object(p.jsxs)(d.c,{spacing:"24px",children:[Object(p.jsxs)(k.a,{id:"name",isRequired:!0,children:[Object(p.jsx)(ge.a,{children:"Name"}),Object(p.jsx)(C.a,{value:m,placeholder:"Enter Your Name",onChange:function(e){return g(e.target.value)},borderColor:"teal.500",_placeholder:{color:"gray.500"}})]}),Object(p.jsxs)(k.a,{id:"email",isRequired:!0,children:[Object(p.jsx)(ge.a,{children:"Email Address"}),Object(p.jsx)(C.a,{type:"email",value:A,placeholder:"Enter Your Email Address",onChange:function(e){return F(e.target.value)},borderColor:"teal.500",_placeholder:{color:"gray.500"}})]}),Object(p.jsxs)(k.a,{id:"password",isRequired:!0,children:[Object(p.jsx)(ge.a,{children:"Password"}),Object(p.jsxs)(ye.a,{size:"md",children:[Object(p.jsx)(C.a,{value:G,type:r?"text":"password",placeholder:"Enter Password",onChange:function(e){return P(e.target.value)},borderColor:"teal.500",_placeholder:{color:"gray.500"}}),Object(p.jsx)(ve.a,{width:"4.5rem",children:Object(p.jsx)(b.a,{h:"1.75rem",size:"sm",onClick:function(){return a(!r)},colorScheme:"teal",children:r?"Hide":"Show"})})]})]}),Object(p.jsxs)(k.a,{id:"confirmpassword",isRequired:!0,children:[Object(p.jsx)(ge.a,{children:"Confirm Password"}),Object(p.jsxs)(ye.a,{size:"md",children:[Object(p.jsx)(C.a,{value:I,type:c?"text":"password",placeholder:"Confirm Password",onChange:function(e){return R(e.target.value)},borderColor:"teal.500",_placeholder:{color:"gray.500"}}),Object(p.jsx)(ve.a,{width:"4.5rem",children:Object(p.jsx)(b.a,{h:"1.75rem",size:"sm",onClick:function(){return l(!c)},colorScheme:"teal",children:c?"Hide":"Show"})})]})]}),Object(p.jsxs)(k.a,{id:"pic",children:[Object(p.jsx)(ge.a,{children:"Upload Your Picture"}),Object(p.jsx)(C.a,{type:"file",p:1.5,accept:"image/*",onChange:function(e){return function(e){if(H(!0),void 0===e)return u({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void H(!1);if("image/jpeg"===e.type||"image/png"===e.type){var t=new FormData;t.append("file",e),t.append("upload_preset","chat-app"),t.append("cloud_name","piyushproj"),fetch("https://api.cloudinary.com/v1_1/piyushproj/image/upload",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){M(e.url.toString()),H(!1)})).catch((function(e){console.log(e),H(!1)}))}else u({title:"Please Select a Valid Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),H(!1)}(e.target.files[0])},borderColor:"teal.500",_placeholder:{color:"gray.500"}})]}),Object(p.jsx)(b.a,{colorScheme:"teal",width:"full",mt:4,onClick:J,isLoading:$,children:"Sign Up"})]})]})})};var Se=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(O.Route,{path:"/",component:x,exact:!0}),Object(p.jsx)(O.Route,{path:"/chats",component:me}),Object(p.jsx)(O.Route,{path:"/login",component:Ce,exact:!0}),Object(p.jsx)(O.Route,{path:"/signup",component:we,exact:!0})]})},_e=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,394)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;r(e),a(e),n(e),s(e),i(e)}))},Ae=r(386),Fe=r(75);c.a.render(Object(p.jsx)(Ae.a,{children:Object(p.jsx)(Fe.a,{children:Object(p.jsx)(H,{children:Object(p.jsx)(Se,{})})})}),document.getElementById("root")),_e()}},[[341,1,2]]]);
//# sourceMappingURL=main.e85a47cb.chunk.js.map